# 视频编码H.264学习记录
## H.264编码原理
### 特点：
具有低码率、高压缩、高质量特点
### 原理：
定义三种帧：
- I帧：关键帧
- P帧：只参考之前的I帧生成的只包含差异部分编码的帧
- B帧：参考前后的帧编码的帧
核心算法：
帧内压缩 和 帧间压缩
帧内压缩生成I帧，只考虑本帧数据，可以独一解码显示
帧间压缩生成P、B帧，考虑相邻帧变化进行数据压缩

### H.264编码框架
![H.264编码框架](https://img-blog.csdn.net/20170512233414470?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQW5kckV4cGVydA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

VCL（Video Coding Layer）：编码层,负责高效编写视频内容
NAL（Network Abstraction Layer）：负责以网络所要求的恰当的方式对数据进行打包和传送

## H.264数据组织形式
数据组织从大到小的排列顺序
![数据组织]（https://img-blog.csdn.net/20170512233808951?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQW5kckV4cGVydA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center）

- 序列（sequence）：图像以序列为单位进行组织，由多帧图像被编码后的数据流组成，两个I帧之间
- 帧图像（frame）：一帧图像被分成多个片
- 片组（slicegroup）、片（slice）：片组由宏块组成
- 宏块（macroblock）、块（block）、子块（sub-block）：编码处理的基本单位
- 像素（pixel）

序列包含的图像帧的数量与画面变化情况有关

## H.264中的NAL技术
负责格式化数据并提供头信息，以保证数据适合各种信道和存储介质上的有效传输。
NAL层中，NALU（Network Abstract Layer Unit, 网络抽象层单元）是H.264编码存储或传输的基本单位
![NAL单元](https://img-blog.csdn.net/20170512233904274?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvQW5kckV4cGVydA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)

------------------------------
1111
